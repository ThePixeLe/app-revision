<!--
  app.component.html

  Template racine de l'application - Layout principal.

  Structure du layout :
  ====================

  ┌─────────────────────────────────────────────────────────────┐
  │                      NAVBAR (fixe en haut)                  │
  ├────────────────┬────────────────────────────────────────────┤
  │                │                                            │
  │    SIDEBAR     │           ROUTER OUTLET                    │
  │  (navigation)  │       (contenu dynamique)                  │
  │                │                                            │
  │                │                                            │
  └────────────────┴────────────────────────────────────────────┘

  Le <router-outlet> est remplacé dynamiquement par Angular
  selon la route active (dashboard, exercises, pomodoro, etc.)

  Philosophie David J. Malan :
  "The structure of your code should reflect the structure
   of the problem you're solving."

  Auteur: H1m0t3p3
  Date: 24 décembre 2024
-->

<!--
  LAYOUT PRINCIPAL
  ================

  Composé de 3 parties :
  1. Navbar (barre supérieure fixe)
  2. Sidebar (menu latéral)
  3. Main (contenu principal avec router-outlet)
-->
<div class="app-layout">

  <!-- ========================================== -->
  <!-- NAVBAR -->
  <!-- ========================================== -->
  <!--
    La navbar est TOUJOURS visible, quelle que soit la page.
    Elle contient le logo, les stats rapides et le profil.

    L'événement (sidebarToggle) est émis quand on clique
    sur le bouton burger (mobile).
  -->
  <app-navbar (sidebarToggle)="toggleSidebar()"></app-navbar>

  <!-- ========================================== -->
  <!-- CONTENEUR PRINCIPAL (Sidebar + Contenu) -->
  <!-- ========================================== -->
  <div class="app-body">

    <!-- ========================================== -->
    <!-- SIDEBAR -->
    <!-- ========================================== -->
    <!--
      La sidebar contient le menu de navigation.
      Sur mobile, elle est cachée par défaut.
      [isOpen] contrôle son état (ouvert/fermé).
      (close) est émis quand on clique sur l'overlay.
    -->
    <app-sidebar
      [isOpen]="isSidebarOpen"
      (close)="closeSidebar()">
    </app-sidebar>

    <!-- ========================================== -->
    <!-- CONTENU PRINCIPAL -->
    <!-- ========================================== -->
    <!--
      <router-outlet> est le "placeholder" d'Angular Router.
      Il sera remplacé par le composant correspondant à la route.

      Exemples :
      - /dashboard → <app-dashboard>
      - /exercises → <app-exercises>
      - /pomodoro → <app-pomodoro>

      C'est la magie du routing !
    -->
    <main class="app-content">
      <router-outlet></router-outlet>
    </main>

  </div>

  <!-- ========================================== -->
  <!-- CHATBOT D'AIDE -->
  <!-- ========================================== -->
  <!--
    Le chatbot est TOUJOURS disponible, quelle que soit la page.
    Il flotte en bas à droite de l'écran.
    L'utilisateur peut l'ouvrir pour poser des questions.
  -->
  <app-chatbot></app-chatbot>

</div>

<!--
  Réflexions pédagogiques (style David J. Malan)
  ==============================================

  1. POURQUOI cette structure HTML ?

     Séparation claire des responsabilités :
     - <app-navbar> → Navigation globale
     - <app-sidebar> → Navigation secondaire
     - <main> → Contenu de la page

     Chaque partie a UN rôle bien défini.

  2. POURQUOI <main> pour le contenu ?

     Sémantique HTML5 :
     - <main> = contenu principal de la page
     - Aide les lecteurs d'écran
     - Améliore le SEO

  3. POURQUOI la communication par événements ?

     Parent (app) ↔ Enfants (navbar, sidebar)

     Les événements permettent :
     - À la navbar de dire "Toggle la sidebar"
     - À la sidebar de dire "Je me ferme"

     Le parent (app) gère l'état, les enfants signalent.

  Citation de David J. Malan :
  "Think of your HTML as the skeleton of your page.
   CSS is the skin, JavaScript is the muscles."
-->
