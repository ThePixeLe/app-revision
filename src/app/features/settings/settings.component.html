<!--
  settings.component.html

  Template de la page Param√®tres.

  Structure de la page :
  =====================

  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ                       HEADER                                ‚îÇ
  ‚îÇ   Param√®tres                              [Sauvegarder]     ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
  ‚îÇ                                                             ‚îÇ
  ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
  ‚îÇ   ‚îÇ              SECTION POMODORO                       ‚îÇ  ‚îÇ
  ‚îÇ   ‚îÇ   Dur√©e travail:     [====|====] 25 min             ‚îÇ  ‚îÇ
  ‚îÇ   ‚îÇ   Pause courte:      [====|====] 5 min              ‚îÇ  ‚îÇ
  ‚îÇ   ‚îÇ   Pause longue:      [====|====] 15 min             ‚îÇ  ‚îÇ
  ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
  ‚îÇ                                                             ‚îÇ
  ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
  ‚îÇ   ‚îÇ            SECTION NOTIFICATIONS                    ‚îÇ  ‚îÇ
  ‚îÇ   ‚îÇ   [‚úì] Activer les notifications                     ‚îÇ  ‚îÇ
  ‚îÇ   ‚îÇ   [‚úì] Son                    Volume: [====] 80%     ‚îÇ  ‚îÇ
  ‚îÇ   ‚îÇ   [ ] Rappel quotidien       Heure: [09:00]         ‚îÇ  ‚îÇ
  ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
  ‚îÇ                                                             ‚îÇ
  ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
  ‚îÇ   ‚îÇ              SECTION DONN√âES                        ‚îÇ  ‚îÇ
  ‚îÇ   ‚îÇ   [Exporter]  [Importer]  [R√©initialiser]           ‚îÇ  ‚îÇ
  ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
  ‚îÇ                                                             ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

  Organisation en sections :
  - Chaque section = un groupe de param√®tres li√©s
  - Les sections sont visuellement s√©par√©es
  - L'utilisateur trouve facilement ce qu'il cherche

  Auteur: H1m0t3p3
  Date: 24 d√©cembre 2024
-->

<div class="settings-container">

  <!-- ========================================== -->
  <!-- HEADER -->
  <!-- ========================================== -->
  <header class="settings-header">
    <div class="header-content">
      <h1 class="page-title">‚öôÔ∏è Param√®tres</h1>
      <p class="page-subtitle">Personnalise ton exp√©rience d'apprentissage</p>
    </div>

    <!-- Indicateur de sauvegarde -->
    <div class="save-indicator" *ngIf="lastSaved">
      <span class="save-icon">‚úì</span>
      <span class="save-text">Sauvegard√©</span>
    </div>
  </header>

  <!-- ========================================== -->
  <!-- MESSAGE DE FEEDBACK -->
  <!-- ========================================== -->
  <div
    class="feedback-toast"
    *ngIf="feedbackMessage"
    [class.success]="feedbackType === 'success'"
    [class.error]="feedbackType === 'error'"
    [class.info]="feedbackType === 'info'">
    {{ feedbackMessage }}
  </div>

  <!-- ========================================== -->
  <!-- SECTION POMODORO -->
  <!-- ========================================== -->
  <!--
    Param√®tres du timer Pomodoro.
    Les sliders permettent un ajustement pr√©cis.
  -->
  <section class="settings-section">
    <div class="section-header">
      <span class="section-icon">üçÖ</span>
      <div class="section-info">
        <h2 class="section-title">Timer Pomodoro</h2>
        <p class="section-description">
          Ajuste les dur√©es selon ta capacit√© de concentration
        </p>
      </div>
    </div>

    <div class="settings-group">

      <!-- Dur√©e de travail -->
      <div class="setting-item">
        <label class="setting-label">
          <span class="label-text">Dur√©e de travail</span>
          <span class="label-value">{{ settings.pomodoro.workDuration }} min</span>
        </label>
        <input
          type="range"
          class="setting-slider"
          min="15"
          max="60"
          step="5"
          [(ngModel)]="settings.pomodoro.workDuration"
          (change)="saveSettings()">
        <div class="slider-labels">
          <span>15 min</span>
          <span>60 min</span>
        </div>
      </div>

      <!-- Pause courte -->
      <div class="setting-item">
        <label class="setting-label">
          <span class="label-text">Pause courte</span>
          <span class="label-value">{{ settings.pomodoro.shortBreakDuration }} min</span>
        </label>
        <input
          type="range"
          class="setting-slider"
          min="3"
          max="15"
          step="1"
          [(ngModel)]="settings.pomodoro.shortBreakDuration"
          (change)="saveSettings()">
        <div class="slider-labels">
          <span>3 min</span>
          <span>15 min</span>
        </div>
      </div>

      <!-- Pause longue -->
      <div class="setting-item">
        <label class="setting-label">
          <span class="label-text">Pause longue</span>
          <span class="label-value">{{ settings.pomodoro.longBreakDuration }} min</span>
        </label>
        <input
          type="range"
          class="setting-slider"
          min="10"
          max="30"
          step="5"
          [(ngModel)]="settings.pomodoro.longBreakDuration"
          (change)="saveSettings()">
        <div class="slider-labels">
          <span>10 min</span>
          <span>30 min</span>
        </div>
      </div>

      <!-- Sessions avant pause longue -->
      <div class="setting-item">
        <label class="setting-label">
          <span class="label-text">Sessions avant pause longue</span>
          <span class="label-value">{{ settings.pomodoro.sessionsBeforeLongBreak }}</span>
        </label>
        <input
          type="range"
          class="setting-slider"
          min="2"
          max="6"
          step="1"
          [(ngModel)]="settings.pomodoro.sessionsBeforeLongBreak"
          (change)="saveSettings()">
        <div class="slider-labels">
          <span>2</span>
          <span>6</span>
        </div>
      </div>

    </div>
  </section>

  <!-- ========================================== -->
  <!-- SECTION NOTIFICATIONS -->
  <!-- ========================================== -->
  <section class="settings-section">
    <div class="section-header">
      <span class="section-icon">üîî</span>
      <div class="section-info">
        <h2 class="section-title">Notifications</h2>
        <p class="section-description">
          Configure les alertes et rappels
        </p>
      </div>
    </div>

    <div class="settings-group">

      <!-- Activer notifications -->
      <div class="setting-item toggle-item">
        <label class="setting-label">
          <span class="label-text">Activer les notifications</span>
          <span class="label-hint">Re√ßois des alertes √† la fin des sessions</span>
        </label>
        <label class="toggle-switch">
          <input
            type="checkbox"
            [(ngModel)]="settings.notifications.enabled"
            (change)="saveSettings()">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <!-- Son -->
      <div class="setting-item toggle-item" *ngIf="settings.notifications.enabled">
        <label class="setting-label">
          <span class="label-text">Son de notification</span>
          <span class="label-hint">Joue un son √† la fin des sessions</span>
        </label>
        <label class="toggle-switch">
          <input
            type="checkbox"
            [(ngModel)]="settings.notifications.sound"
            (change)="saveSettings()">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <!-- Volume -->
      <div class="setting-item" *ngIf="settings.notifications.enabled && settings.notifications.sound">
        <label class="setting-label">
          <span class="label-text">Volume</span>
          <span class="label-value">{{ settings.notifications.soundVolume }}%</span>
        </label>
        <input
          type="range"
          class="setting-slider"
          min="0"
          max="100"
          step="10"
          [(ngModel)]="settings.notifications.soundVolume"
          (change)="saveSettings()">
      </div>

      <!-- Tester notification -->
      <div class="setting-item" *ngIf="settings.notifications.enabled">
        <button
          class="btn-test"
          (click)="testNotification()">
          <span>üîî</span>
          <span>Tester une notification</span>
        </button>
      </div>

      <!-- Rappel quotidien -->
      <div class="setting-item toggle-item">
        <label class="setting-label">
          <span class="label-text">Rappel quotidien</span>
          <span class="label-hint">Rappel pour maintenir ton streak</span>
        </label>
        <label class="toggle-switch">
          <input
            type="checkbox"
            [(ngModel)]="settings.notifications.reminderEnabled"
            (change)="saveSettings()">
          <span class="toggle-slider"></span>
        </label>
      </div>

      <!-- Heure du rappel -->
      <div class="setting-item" *ngIf="settings.notifications.reminderEnabled">
        <label class="setting-label">
          <span class="label-text">Heure du rappel</span>
        </label>
        <input
          type="time"
          class="setting-input"
          [(ngModel)]="settings.notifications.reminderTime"
          (change)="saveSettings()">
      </div>

    </div>
  </section>

  <!-- ========================================== -->
  <!-- SECTION DONN√âES -->
  <!-- ========================================== -->
  <section class="settings-section">
    <div class="section-header">
      <span class="section-icon">üíæ</span>
      <div class="section-info">
        <h2 class="section-title">Donn√©es</h2>
        <p class="section-description">
          Exporte, importe ou r√©initialise tes donn√©es
        </p>
      </div>
    </div>

    <div class="settings-group data-group">

      <!-- Export -->
      <div class="data-action">
        <div class="action-info">
          <h3>üì§ Exporter</h3>
          <p>T√©l√©charge toutes tes donn√©es en JSON</p>
        </div>
        <button class="btn-action export" (click)="exportData()">
          Exporter
        </button>
      </div>

      <!-- Import -->
      <div class="data-action">
        <div class="action-info">
          <h3>üì• Importer</h3>
          <p>Restaure tes donn√©es depuis un fichier</p>
        </div>
        <label class="btn-action import">
          <span>Importer</span>
          <input
            type="file"
            accept=".json"
            (change)="importData($event)"
            hidden>
        </label>
      </div>

      <!-- Reset param√®tres -->
      <div class="data-action">
        <div class="action-info">
          <h3>üîÑ R√©initialiser les param√®tres</h3>
          <p>Remet les param√®tres par d√©faut</p>
        </div>
        <button class="btn-action reset" (click)="resetToDefaults()">
          R√©initialiser
        </button>
      </div>

    </div>
  </section>

  <!-- ========================================== -->
  <!-- ZONE DANGER -->
  <!-- ========================================== -->
  <section class="settings-section danger-zone">
    <div class="section-header">
      <span class="section-icon">‚ö†Ô∏è</span>
      <div class="section-info">
        <h2 class="section-title">Zone de danger</h2>
        <p class="section-description">
          Actions irr√©versibles - √Ä utiliser avec pr√©caution
        </p>
      </div>
    </div>

    <div class="settings-group">
      <div class="danger-action">
        <div class="action-info">
          <h3>üóëÔ∏è R√©initialiser TOUTE la progression</h3>
          <p>
            Supprime XP, badges, exercices compl√©t√©s, streak...
            <strong>Cette action est IRR√âVERSIBLE !</strong>
          </p>
        </div>
        <button
          class="btn-danger"
          (click)="resetAllProgress()">
          Tout supprimer
        </button>
      </div>
    </div>
  </section>

  <!-- ========================================== -->
  <!-- FOOTER -->
  <!-- ========================================== -->
  <footer class="settings-footer">
    <p class="version-info">
      Study Tracker Pro v1.0.0
    </p>
    <p class="credits">
      Fait avec ‚ù§Ô∏è par H1m0t3p3
    </p>
  </footer>

</div>

<!--
  R√©flexions UX (style David J. Malan)
  ====================================

  1. POURQUOI des sliders plut√¥t que des inputs num√©riques ?

     Les sliders sont plus INTUITIFS :
     - On voit imm√©diatement la plage de valeurs
     - Le changement est visuel et satisfaisant
     - Moins d'erreurs (pas de "500 minutes" par accident)

  2. POURQUOI afficher la valeur √† c√¥t√© du slider ?

     Le slider montre la POSITION relative.
     L'affichage montre la VALEUR exacte.

     Les deux informations sont compl√©mentaires.

  3. POURQUOI la "Zone de danger" est-elle en bas ?

     Hi√©rarchie de l'information :
     - En haut : Ce qu'on utilise souvent (Pomodoro)
     - Au milieu : Ce qu'on utilise parfois (Notifications)
     - En bas : Ce qu'on utilise rarement (Reset)

     C'est le pattern "Progressive disclosure".

  4. POURQUOI le style diff√©rent pour la zone danger ?

     SIGNAL VISUEL CLAIR :
     - Couleur rouge/orange = Attention !
     - S√©paration visuelle = "Tu rentres dans une zone diff√©rente"

     L'utilisateur comprend instinctivement que c'est s√©rieux.
-->
